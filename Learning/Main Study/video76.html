<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async and await</title>
</head>
<body>
    <script>
        document.body.style.backgroundColor="grey";

        // async function getdata(){
        //     return new Promise ((resolve, reject)=>{
        //         setTimeout(() => {
        //             resolve(220)
        //         }, 2000);
        //     })
        // }

        // async function main() {
            
        //     console.log("Task 1")
        //     let data=await getdata()
        //     console.log(data)
        //     console.log("Task 2")
        // }
        // main()


        // data.then((r)=>{
        //     console.log(r)
        // }).catch((err)=>{
        //     console.log(err)
        // })




        async function getdata(){

            let [x1,x2]=await Promise.all([
                fetch('https://jsonplaceholder.typicode.com/users/1'),
                fetch('https://jsonplaceholder.typicode.com/posts/1')
            ])

            if(!x1.ok || !x2.ok){
                console.log(`Error shown ${x.status} `)
            }

            let user= await x1.json()
            let post= await x2.json()
            return {user,post}
        }
        async function main(){
            console.log("The data is printing")
            let data =await getdata();
            console.log(`Name: ${data.user.name}, Post: ${data.post.title}`)
            console.log("The data has been fetched and shown")
        }
        main()

    </script>
</body>
</html>